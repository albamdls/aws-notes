<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!--
    The page_title contains the title for a page as shown in the navigation.
    Site name contains the name as defined in the mkdocs.yml
  -->
  <title>‚óΩÔ∏è Section 4 - Securing Your VPC - AWS Cloud Practitioner Notes</title>

  <!-- Page description -->
  
    <meta name="description" content="Apuntes visuales del curso AWS Cloud Practitioner ‚òÅÔ∏è" />
  

  <!-- Redirect -->
  
    <link rel="canonical" href="https://jalando-code.github.io/aws-notes/cloud-practitioner/module-5/m5_sec4/" />
  

  <!-- Page author -->
  
    <meta name="author" content="Alba | @jalando.code" />
  
  <!--
    Just add a favicon.ico image to the docs.
  -->
  <link rel="shortcut icon" href="../../../img/favicon.ico">

  <link rel="stylesheet" href="../../../css/colors.css">
  <link rel="stylesheet" href="../../../css/bundle.css">
  <link rel="stylesheet" href="../../../css/theme.css">
  <link media="print" onload="this.media='all'" rel="stylesheet" href="../../../css/atom-dark-one.min.css">
  <!--
    extra_ess contains paths to CSS files in the users
    documentation directory or a list of CSS files defined in
    their mkdocs.yml.

    http://www.mkdocs.org/user-guide/configuration/#extra_css
  -->
  

  
  

  <!--
    Include Google Analytics tracking code.

    http://www.mkdocs.org/user-guide/configuration/#google_analytics
  -->
  

</head>

<body>
<input id="dark-mode" type="checkbox" />
<!--
  The JS has to be loaded here for maximum performance, right after the #dark-mode
-->
<script src="../../../js/theme.js"></script>
<div class="app-body">
  <!-- KPN STYLE Beginning -->
  <div class="app-layout ">
    <!-- Top Bar -->
    <nav class="app-layout__top-bar top-bar">
      <a class="top-bar__logo">
        <img alt="KPN Logo" src="../../../img/logo-kpn.svg" />
      </a>
      <div class="top-bar__title">AWS Cloud Practitioner Notes</div>
      <ul class="top-bar__menu">
        <!--
          Create a search form that sends the user to the search.html file - this is
          the other file in the template which adds search to the theme. The only
          requirement here is that there is a text input with the name 'q' and the
          action and methods match below.
        -->
          <li class="top-bar__item">

            <span role="search" id="search-input-wrapper">
              <form action="../../../search.html" method="get">
                <input type="text" class="input" id="search-input" name="q" placeholder="Search..." />
              </form>
            </span >
          </li>
        <!--
          Versioning support
        -->
        
        <!--
          Support repo URL
        -->
        <li class="top-bar__item">
          
        </li>

        <li class="top-bar__item">
            <label class="top-bar__link" id="label-dark-mode" for="dark-mode" title="Dark mode">
              <svg alt="dark mode" width="24" height="24">
                <image xlink:href="../../../img/ui-bulb.svg" width="24" height="24"/>
            </svg>
            </label>
        </li>
        <li class="top-bar__item top-bar__item--trigger"></li>

        <!-- <li class="top-bar__item">

          <a class="top-bar__link top-bar__link--active">Home</a>
        </li>
        <li class="top-bar__item"><a class="top-bar__link">Information</a></li>
        <li class="top-bar__item">
          <a class="top-bar__link top-bar__link--collapsed">Getting Started</a>

        </li>
        <li class="top-bar__item top-bar__item--trigger">Menu</li> -->
      </ul>
    </nav>

    <!--
      Create the navigation for the documentation.

      Because we don't know how many levels deep the navigation is, it needs to
      be included in it's own file so it can be recursive. Otherwise the theme
      can also only support a specific number of levels.

      See the nav.html file for more details about how this works.
    -->
    <nav class="app-layout__side-bar side-bar">
      <div class="side-bar__action-bar">
        <a class="side-bar__link" href="/">AWS Cloud Practitioner Notes</a>
        <!--
          Versioning support
        -->
        
        <button class="side-bar__close"></button>
      </div>
      <ul class="side-bar__menu">
        
          <!--

-->

<li>
  <a href="../../.." class="side-bar__link ">
    üè† Home
  </a>
</li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå Module 1 - Cloud Concepts Overview
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-1/m1_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - What is Cloud Computing?
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-1/m1_sec2/" class="side-bar__link ">
    ‚óΩ Section 2 - Advantages of Cloud Computing
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-1/m1_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - Introduction to Amazon Web Services (AWS)
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-1/m1_sec4/" class="side-bar__link ">
    ‚óΩÔ∏è Section 4 - AWS Cloud Adoption Framework (AWS CAF)
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå Module 2 - Cloud Economics and Billing
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-2/m2_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - Fundamentals of pricing
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-2/m2_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - Total Cost of Ownership
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-2/m2_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - AWS Organizations
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-2/m2_sec4/" class="side-bar__link ">
    ‚óΩÔ∏è Section 4 - AWS Billing and Cost Management
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-2/m2_sec5/" class="side-bar__link ">
    ‚óΩÔ∏è Section 5 - Technical support
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå  Module 3 - AWS Global Infrastructure Overview
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-3/m3_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - AWS Global Infrastructure
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-3/m3_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - AWS services and service category overview
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå Module 4 - AWS Cloud Security
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-4/m4_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - AWS Shared Responsibility Model
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-4/m4_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - AWS Identity and Access Management (IAM)
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-4/m4_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - Securing a New AWS Account
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-4/m4_sec4/" class="side-bar__link ">
    ‚óΩÔ∏è Section 4 - Securing Accounts
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-4/m4_sec5/" class="side-bar__link ">
    ‚óΩÔ∏è Section 5 - Securing Data on AWS
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-4/m4_sec6/" class="side-bar__link ">
    ‚óΩÔ∏è Section 6 - Working to Ensure Compliance
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--expanded side-bar__link--active">
      üìå Module 5 - Networking and Content Delivery
    </span>
    <ul class="side-bar__sub-menu side-bar__sub-menu--visible">
        
            <!--

-->

<li>
  <a href="../m5_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - Networking Basics
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../m5_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - Amazon Virtual Private Cloud (Amazon VPC)
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../m5_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - VPC Connectivity Options
  </a>
</li>

        
            <!--

-->

<li>
  <a href="./" class="side-bar__link side-bar__link--active">
    ‚óΩÔ∏è Section 4 - Securing Your VPC
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../m5_sec5/" class="side-bar__link ">
    ‚óΩÔ∏è Section 5 - Amazon Route 53
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../m5_sec6/" class="side-bar__link ">
    ‚óΩÔ∏è Section 6 - Amazon CloudFront
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå Module 6 - Compute
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-6/m6_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - Compute Services Overview
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-6/m6_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - Amazon Elastic Compute Cloud (Amazon EC2)
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-6/m6_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - Amazon EC2 Cost Optimization
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-6/m6_sec4/" class="side-bar__link ">
    ‚óΩÔ∏è Section 4 - Container Services
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-6/m6_sec5/" class="side-bar__link ">
    ‚óΩÔ∏è Section 5 - AWS Lambda (Serverless Compute)
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-6/m6_sec6/" class="side-bar__link ">
    ‚óΩÔ∏è Section 6 - AWS Elastic Beanstalk
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå Module 7 - Storage
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-7/m7_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - AWS Storage Overview
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-7/m7_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - Amazon Simple Storage Service (Amazon S3)
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-7/m7_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - Amazon Elastic Block Store (Amazon EBS) and Instance Store
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-7/m7_sec4/" class="side-bar__link ">
    ‚óΩÔ∏è Section 4 - File Storage ‚Äì Amazon EFS and Amazon FSx
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-7/m7_sec5/" class="side-bar__link ">
    ‚óΩÔ∏è Section 5 - Hybrid and Data Transfer Services
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-7/m7_sec6/" class="side-bar__link ">
    ‚óΩÔ∏è Section 6 - Backup, Archive, and Data Protection
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-7/m7_sec7/" class="side-bar__link ">
    ‚óΩÔ∏è Section 7 - Security, Compliance, and Cost Optimization in Storage
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå Module 8 - Databases
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-8/m8_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - Introduction to Databases on AWS
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-8/m8_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - Relational Databases on AWS (Amazon RDS and Amazon Aurora)
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-8/m8_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - Nonrelational Databases on AWS
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-8/m8_sec4/" class="side-bar__link ">
    ‚óΩÔ∏è Section 4 - Database Migration and Integration on AWS
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå Module 9 - Cloud Architecture
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-9/m9_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - Introduction to Cloud Architecture Design Principles
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-9/m9_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - High Availability and Fault Tolerance
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-9/m9_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - Elasticity and Scalability in the Cloud
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-9/m9_sec4/" class="side-bar__link ">
    ‚óΩÔ∏è Section 4 - Loose Coupling and Microservices Architecture
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-9/m9_sec5/" class="side-bar__link ">
    ‚óΩÔ∏è Section 5 - AWS Global Infrastructure and Edge Services
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-9/m9_sec6/" class="side-bar__link ">
    ‚óΩÔ∏è Section 6 - Designing for Security and Compliance in the Cloud
  </a>
</li>

        
    </ul>
  </li>

        
          <!--

-->

  <li>
    <span class="side-bar__link side-bar__link--collapsed">
      üìå Module 10 - Automatic Scaling and Monitoring
    </span>
    <ul class="side-bar__sub-menu ">
        
            <!--

-->

<li>
  <a href="../../module-10/m10_sec1/" class="side-bar__link ">
    ‚óΩÔ∏è Section 1 - Elastic Load Balancing (ELB)
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-10/m10_sec2/" class="side-bar__link ">
    ‚óΩÔ∏è Section 2 - Amazon CloudWatch
  </a>
</li>

        
            <!--

-->

<li>
  <a href="../../module-10/m10_sec3/" class="side-bar__link ">
    ‚óΩÔ∏è Section 3 - Amazon EC2 Auto Scaling
  </a>
</li>

        
    </ul>
  </li>

        
      </ul>
    </nav>

    <!-- MAIN BLOCK -->
    <main class="app-layout__main main">
      <div class="app-layout__title-bar title-bar">
        <div class="title-bar__title">‚óΩÔ∏è Section 4 - Securing Your VPC</div>
      </div>
      
      <div class="sidebar--secondary hidden-s hidden-xs">
        <h4>Table of contents</h4>
        <ul>
        
          
            
                <li><a class="a" href="#4-section-4-securing-your-vpc">4Ô∏è‚É£ Section 4: Securing Your VPC</a></li>
                
                    <li class="child-li"><a class="a child" href="#security-groups">üü† Security Groups</a></li>
                
                    <li class="child-li"><a class="a child" href="#security-group-rules">üü† Security Group Rules</a></li>
                
                    <li class="child-li"><a class="a child" href="#custom-security-group-examples">üü† Custom Security Group Examples</a></li>
                
                    <li class="child-li"><a class="a child" href="#network-access-control-lists-network-acls">üü† Network Access Control Lists (Network ACLs)</a></li>
                
                    <li class="child-li"><a class="a child" href="#network-acl-rules">üü† Network ACL Rules</a></li>
                
                    <li class="child-li"><a class="a child" href="#custom-network-acl-examples">üü† Custom Network ACL Examples</a></li>
                
                    <li class="child-li"><a class="a child" href="#security-groups-vs-network-acls">üü† Security Groups vs Network ACLs</a></li>
                
                    <li class="child-li"><a class="a child" href="#activity-design-a-secure-vpc">üß© Activity: Design a Secure VPC</a></li>
                
                    <li class="child-li"><a class="a child" href="#key-takeaways">üü¢ Key Takeaways</a></li>
                
            
          
        
        </ul>
      </div>
      
      <div class="container content-block">
        <div class="kpn-style">
          <div class="card">
            <div class="card__body">

              
              <h1 id="module-5-networking-and-content-delivery">üåê Module 5 - Networking and Content Delivery</h1>
<h2 id="4-section-4-securing-your-vpc">4Ô∏è‚É£ Section 4: Securing Your VPC</h2>
<hr />
<h3 id="security-groups">üü† Security Groups</h3>
<p>A <strong>security group</strong> acts as a <strong>virtual firewall</strong> for your Amazon EC2 instances, controlling <strong>inbound and outbound traffic</strong>.</p>
<h4 id="key-characteristics">‚öôÔ∏è Key Characteristics:</h4>
<ul>
<li>Operates at the <strong>instance level</strong> (not at the subnet level).</li>
<li>Each instance in a subnet can have <strong>different security groups</strong>.</li>
<li>Used to <strong>filter traffic</strong> to and from your instances.</li>
</ul>
<p>üìò <strong>Default behavior:</strong></p>
<ul>
<li>Denies <strong>all inbound traffic</strong>.</li>
<li>Allows <strong>all outbound traffic</strong>.</li>
</ul>
<hr />
<h3 id="security-group-rules">üü† Security Group Rules</h3>
<table>
<thead>
<tr>
<th>Direction</th>
<th>Default Behavior</th>
<th>Customization</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Inbound</strong></td>
<td>Denied</td>
<td>Add rules to allow specific sources, ports, and protocols.</td>
<td>Each rule specifies Source ‚Üí Protocol ‚Üí Port ‚Üí Description.</td>
</tr>
<tr>
<td><strong>Outbound</strong></td>
<td>Allowed</td>
<td>You can restrict or specify targets for traffic.</td>
<td>If no outbound rules exist, no outbound traffic is allowed.</td>
</tr>
</tbody>
</table>
<p>üîπ <strong>Stateful behavior:</strong></p>
<ul>
<li>Return traffic is <strong>automatically allowed</strong>, even if no explicit rule exists.</li>
<li>Example: If an instance sends a request, the response traffic is allowed in.</li>
</ul>
<p>üß± <strong>Example Default Rules:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Source/Destination</th>
<th>Protocol</th>
<th>Port Range</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inbound</td>
<td>sg-xxxxxxxx</td>
<td>All</td>
<td>All</td>
<td>Allow inbound from interfaces in same SG</td>
</tr>
<tr>
<td>Outbound</td>
<td>0.0.0.0/0</td>
<td>All</td>
<td>All</td>
<td>Allow all IPv4 outbound</td>
</tr>
<tr>
<td>Outbound</td>
<td>::/0</td>
<td>All</td>
<td>All</td>
<td>Allow all IPv6 outbound</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="custom-security-group-examples">üü† Custom Security Group Examples</h3>
<p>You can specify <strong>allow rules only</strong> ‚Äî <strong>deny rules are not supported</strong>.
All rules are evaluated before deciding whether to allow traffic.</p>
<h4 id="inbound-rules">‚úÖ <strong>Inbound Rules:</strong></h4>
<table>
<thead>
<tr>
<th>Source</th>
<th>Protocol</th>
<th>Port</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0.0.0.0/0</td>
<td>TCP</td>
<td>80</td>
<td>Allow HTTP traffic from all IPv4</td>
</tr>
<tr>
<td>0.0.0.0/0</td>
<td>TCP</td>
<td>443</td>
<td>Allow HTTPS traffic from all IPv4</td>
</tr>
<tr>
<td>Your network‚Äôs public IPv4 range</td>
<td>TCP</td>
<td>22</td>
<td>Allow SSH access to Linux instances</td>
</tr>
</tbody>
</table>
<h4 id="outbound-rules">‚úÖ <strong>Outbound Rules:</strong></h4>
<table>
<thead>
<tr>
<th>Destination</th>
<th>Protocol</th>
<th>Port</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Database SG ID</td>
<td>TCP</td>
<td>1433</td>
<td>Allow Microsoft SQL Server access</td>
</tr>
</tbody>
</table>
<p>üí° <strong>Best practice:</strong> Limit inbound SSH access to specific trusted IP ranges and use security groups as logical firewalls between application tiers.</p>
<hr />
<h3 id="network-access-control-lists-network-acls">üü† Network Access Control Lists (Network ACLs)</h3>
<p>A <strong>Network ACL (Access Control List)</strong> provides an <strong>additional layer of security</strong> at the <strong>subnet level</strong>.
It acts as a <strong>firewall</strong> for controlling inbound and outbound traffic to and from subnets.</p>
<h4 id="key-characteristics_1">‚öôÔ∏è Key Characteristics:</h4>
<ul>
<li>Operates at the <strong>subnet level</strong>.</li>
<li>Each subnet must be associated with <strong>one</strong> network ACL.</li>
<li>A single network ACL can be associated with <strong>multiple subnets</strong>.</li>
<li>If not specified, subnets are automatically associated with the <strong>default network ACL</strong>.</li>
</ul>
<p>üìò When you associate a new ACL with a subnet, the previous one is <strong>replaced</strong>.</p>
<hr />
<h3 id="network-acl-rules">üü† Network ACL Rules</h3>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Rule Types</strong></td>
<td>Separate inbound and outbound rules. Each can either <strong>allow</strong> or <strong>deny</strong> traffic.</td>
</tr>
<tr>
<td><strong>Default ACL</strong></td>
<td>Allows all inbound and outbound IPv4 (and IPv6) traffic.</td>
</tr>
<tr>
<td><strong>Stateless</strong></td>
<td>Return traffic must be explicitly allowed by rules.</td>
</tr>
</tbody>
</table>
<p>üß± <strong>Example Default ACL:</strong></p>
<table>
<thead>
<tr>
<th>Direction</th>
<th>Rule #</th>
<th>Type</th>
<th>Protocol</th>
<th>Port</th>
<th>Source/Destination</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inbound</td>
<td>100</td>
<td>All</td>
<td>All</td>
<td>All</td>
<td>0.0.0.0/0</td>
<td>ALLOW</td>
</tr>
<tr>
<td>Inbound</td>
<td>*</td>
<td>All</td>
<td>All</td>
<td>All</td>
<td>0.0.0.0/0</td>
<td>DENY</td>
</tr>
<tr>
<td>Outbound</td>
<td>100</td>
<td>All</td>
<td>All</td>
<td>All</td>
<td>0.0.0.0/0</td>
<td>ALLOW</td>
</tr>
<tr>
<td>Outbound</td>
<td>*</td>
<td>All</td>
<td>All</td>
<td>All</td>
<td>0.0.0.0/0</td>
<td>DENY</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="custom-network-acl-examples">üü† Custom Network ACL Examples</h3>
<p>Custom ACLs deny all traffic by default until you add rules.
Rules are evaluated in <strong>ascending order</strong>, starting from the lowest number.</p>
<h4 id="example-configuration">‚úÖ Example Configuration:</h4>
<table>
<thead>
<tr>
<th>Direction</th>
<th>Rule #</th>
<th>Type</th>
<th>Protocol</th>
<th>Port</th>
<th>Source/Destination</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inbound</td>
<td>100</td>
<td>HTTPS</td>
<td>TCP</td>
<td>443</td>
<td>0.0.0.0/0</td>
<td>ALLOW</td>
</tr>
<tr>
<td>Inbound</td>
<td>120</td>
<td>SSH</td>
<td>TCP</td>
<td>22</td>
<td>192.0.2.0/24</td>
<td>ALLOW</td>
</tr>
<tr>
<td>Inbound</td>
<td>*</td>
<td>All</td>
<td>All</td>
<td>All</td>
<td>0.0.0.0/0</td>
<td>DENY</td>
</tr>
<tr>
<td>Outbound</td>
<td>100</td>
<td>HTTPS</td>
<td>TCP</td>
<td>443</td>
<td>0.0.0.0/0</td>
<td>ALLOW</td>
</tr>
<tr>
<td>Outbound</td>
<td>120</td>
<td>SSH</td>
<td>TCP</td>
<td>22</td>
<td>192.0.2.0/24</td>
<td>ALLOW</td>
</tr>
<tr>
<td>Outbound</td>
<td>*</td>
<td>All</td>
<td>All</td>
<td>All</td>
<td>0.0.0.0/0</td>
<td>DENY</td>
</tr>
</tbody>
</table>
<p>üí° <strong>Rule numbering tip:</strong> Use increments of <strong>10 or 100</strong> so new rules can be inserted easily later.</p>
<p>üìö Learn more: <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-network-acls.html">Network ACLs Documentation</a></p>
<hr />
<h3 id="security-groups-vs-network-acls">üü† Security Groups vs Network ACLs</h3>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Security Groups</th>
<th>Network ACLs</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Scope</strong></td>
<td>Instance level</td>
<td>Subnet level</td>
</tr>
<tr>
<td><strong>Rules Supported</strong></td>
<td>Allow rules only</td>
<td>Allow <strong>and</strong> deny rules</td>
</tr>
<tr>
<td><strong>State</strong></td>
<td>Stateful</td>
<td>Stateless</td>
</tr>
<tr>
<td><strong>Evaluation</strong></td>
<td>All rules evaluated together</td>
<td>Rules evaluated by number order</td>
</tr>
</tbody>
</table>
<p>üí° <strong>Summary:</strong></p>
<ul>
<li>Security groups = micro-level protection (instances).</li>
<li>Network ACLs = macro-level protection (subnets).</li>
</ul>
<hr />
<h3 id="activity-design-a-secure-vpc">üß© Activity: Design a Secure VPC</h3>
<p><strong>Scenario:</strong>
You are a small business owner hosting a website on an EC2 instance. Customer data is stored on a backend database that must remain private.</p>
<h4 id="requirements">üß± <strong>Requirements:</strong></h4>
<ul>
<li>Separate web and database servers into different subnets.</li>
<li>Network must start at <strong>10.0.0.0</strong>, with <strong>256 IPv4 addresses per subnet</strong>.</li>
<li>Customers must always have access to the web server.</li>
<li>Database server must access the internet for patch updates.</li>
<li>Architecture must be <strong>highly available</strong> and include <strong>at least one custom firewall layer</strong>.</li>
</ul>
<p>üß† <strong>Hint:</strong> Combine security groups for instance-level protection with network ACLs for subnet-level protection.</p>
<hr />
<h3 id="key-takeaways">üü¢ Key Takeaways</h3>
<p>‚úÖ Build <strong>security into every layer</strong> of your VPC architecture.
‚úÖ <strong>Isolate subnets</strong> when possible for better protection.
‚úÖ Use the <strong>appropriate gateway or VPN connection</strong> for your needs.
‚úÖ Apply <strong>firewall rules</strong> through <strong>security groups</strong> and <strong>network ACLs</strong> to safeguard traffic.</p>
              
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="footer__body">
        
        <div class="row">
          <div class="col col--s-4 col--m-3 col--l-2">
          </div>
          <div class="col col--s-4 col--m space-between">
            
              <a class="footer__link padding-top-0 navigation-prev"
                href="../m5_sec3/"
                title="‚óΩÔ∏è Section 3 - VPC Connectivity Options">
                &#8592; Previous Page
              </a>
            
            
            
              <a class="footer__link padding-top-0 navigation-next"
                href="../m5_sec5/"
                title="‚óΩÔ∏è Section 5 - Amazon Route 53"/>
                Next Page &#8594;
              </a>
            
          </div>
          <div class="col col--s-4 col--m-3 ">
          </div>
        </div>
        
      </div>
    </footer>
  </div>


  <!--
  MkDocs version      : 1.6.1
  Docs Build Date UTC : 2025-11-01 12:57:39.394986+00:00
  -->

  <!--
    To include static assets from our theme, just add
    ../../.. beforehand which will be the relative path to
    the root of the documentation.
  -->
  <script src="../../../js/highlight.min.js"></script>
  <script src="../../../js/languages/groovy.min.js"></script>
  <script src="../../../js/languages/asciidoc.min.js"></script>
  <script src="../../../js/languages/nix.min.js"></script>

  <script>
    hljs.highlightAll();
  </script>
  <script async src="../../../js/detail.js"></script>
  <!--
    extra_javascript contains paths to JavaScript files in the
    users documentation directory or a list of JavaScript files
    defined in their mkdocs.yml.

    http://www.mkdocs.org/user-guide/configuration/#extra_javascript
  -->
  
    <script src="../../../search/main.js"></script>
  


  <script>
  function getMermaidTheme() {
    if (document.getElementById("dark-mode").checked) {
      return 'dark'
    }
    return 'forest'
  }

  function initMermaid() {
    mermaid.initialize({
      theme: getMermaidTheme(),
      logLevel: 1,
    });
  }
  var mermaidClass = document.getElementsByClassName('mermaid');
  if (mermaidClass.length > 0) {

    var mermaidScript = document.createElement('script');
    mermaidScript.setAttribute("src", "../../../js/mermaid.min.js");
    mermaidScript.setAttribute("async", "false");
    mermaidScript.setAttribute("type", "text/javascript");
    mermaidScript.onload = initMermaid;
    document.body.appendChild(mermaidScript)

  }
  </script>

</div>
</body>
</html>